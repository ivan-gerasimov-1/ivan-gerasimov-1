---
import CvLayout from "#app/layouts/cvLayout.astro";

import ExperienceList from "#app/components/cv/experienceList.astro";
import Section from "#app/components/cv/section.astro";
import Text from "#app/components/cv/text.astro";

import photo from "#app/assets/ivan-gerasimov_photo.webp";

let name = "Ivan Gerasimov";
let occupation = "Software Engineer (JavaScript, Fullstack)";
let about = `
	<strong>Senior Fullstack Engineer with 9 years of experience.</strong>
	Specializing in development using <strong>TypeScript</strong>,
	<strong>React</strong> and <strong>Node.js</strong>, as well as web
	application architecture design, including local-first apps with
	extensive client-side logic. Experienced in team management, process
	establishment and cross-team collaboration in a large-scale product.
`;
let location = "Tbilisi, Georgia";
let links = [
	{
		url: "https://gerasimov.dev",
		title: "gerasimov.dev",
	},
	{
		url: "https://linkedin.com/in/ivan-gerasimov",
		title: "linkedin.com/in/ivan-gerasimov",
	},
	{
		url: "https://github.com/ivan-gerasimov-1",
		title: "github.com/ivan-gerasimov-1",
	},
];
let contacts = [
	{
		label: "Email",
		contact: "ivan@gerasimov.dev",
	},
	{
		label: "Telegram",
		contact: "@IvanGerasimow",
	},
];
let languages = [
	"Russian (Native)",
	"English (Professional working proficiency)",
];

let skills = [
	"JavaScript",
	"TypeScript",
	"React",
	"TanStack/Query",
	"Zustand",
	"Redux",
	"Vue",
	"Vuex",
	"Node.js",
	"Express",
	"Fastify",
	"Hono",
	"Vite",
	"Webpack",
	"Vitest",
	"Jest",
	"Mocha",
	"Chai",
	"Sinon",
	"Docker",
	"git",
	"GitHub",
	"GitHub Actions",
	"GitLab",
	"GitLab CI",
	"Cloudflare",
	"Linux",
	"Hetzner",
	"MongoDB",
	"Clean Architecture",
	"Domain Driven Design",
	"Local-First",
	"Frontend",
	"Backend",
	"Fullstack",
	"CI/CD",
];

let employmentHistory = [
	{
		company: "Fundraise Up, USA",
		position: "Fullstack Engineer",
		years: "January 2021 — February 2024",
		additional: "Team Lead, Tech Lead",
		summary: `
			I was a part of the checkout team - the core product used daily by
			millions of people (3M DAU by the end of 2022). Over 1.5 years, grew
			from a developer to leading a team of 5 people. Designed frontend
			application architecture, planned new feature implementations, wrote
			technical documentation, and managed the team.
		`,
		achievements: [
			`
				Led the implementation of internationalization across the
				company's entire stack: designed frontend/backend architecture,
				coordinated 4 development teams, and established a continuous
				delivery process for new translations to production. The company
				began expansion into markets beyond the US and Canada
			`,
			`
				Designed local-first architecture and migrated the product from
				Vue to React. After successful MVP, became the team lead of the
				group that completed development and implementation, becoming
				the core product development team. Clean architecture enabled
				complete separation of business logic from UI, improving
				stability and accelerating releases
			`,
			`
				Launched a new product based on extracted checkout business
				logic with minimal changes. This allowed clients to choose
				different checkout versions without increasing development
				complexity and time
			`,
		],
		skills: `
			#react #testing-library #vue #vuex #storybook #webpack #node.js #koa
			#nestjs #mongodb #clickhouse #sentry #stripe #domain-driven-design
			#clean-architecture
		`,
	},
	{
		company: "Connio, Canada",
		position: "Frontend Engineer",
		years: "June 2018 — January 2021",
		additional: "",
		summary: `
			Joined the company as a UI Developer for a specific project, but graduallytook over all frontend development, including Node.js. Worked both under the guidance of a Lead UI Developer and led a team of three developers. In the final year, worked directly with the founder and CTO, participating in discussions related to the user interface and overall product development.
		`,
		achievements: [
			`
				Optimized the company's main application, reducing memory consumption from several gigabytes to hundreds of megabytes
			`,
			`
				Designed and launched additional company projects tailored to individual client business needs
			`,
			`
				Developed a VS Code extension that integrated core functionality of the main application, significantly simplifying client workflows
			`,
		],
		skills: `
			#react #react-router #redux #redux-thunk #react-hook-form #node.js #angularjs #vue #express.js #koa #vscode-extension #node-red #docker #pm2 #gocd
		`,
	},
	{
		company: "ARM, United Kingdom",
		position: "Frontend Engineer",
		years: "May 2017 — June 2018",
		additional: "",
		summary: `
			As a Lead Developer, collaborated with ARM's development and management teams to create the user interface for Kigen - a new platform for enterprise eSIM management.
		`,
		achievements: [
			`
				Designed the application foundation and created an MVP for presentations, which secured funding and enabled further project development
			`,
			`
				Coordinated the work of three UI developers
			`,
			`
				Delivered multiple releases over a year, bringing the UI to a state that met ARM's internal customer requirements
			`,
		],
		skills: `
			#react #react-router #redux-saga #styled-components #node.js #koa #web-sockets
		`,
	},
	{
		company: "E&F Research, Canada",
		position: "Frontend Engineer",
		years: "April 2016 — May 2017",
		additional: "",
		summary: `
			Focused on developing user interfaces for various projects. Core tech stack included AngularJS, React Native, and Cordova. Created interfaces adapted for different platforms and client business requirements.
		`,
		achievements: [
			`
				Mobile app in React Native for company incident response
			`,
			`
				Dashboard for Canadian Cricket League to assist with team and event organization
			`,
			`
				Dashboard for oil trading company
			`,
			`
				Cordova-based app for field staff (object photography, geolocation, time tracking)
			`,
		],
		skills: `
			#angularjs #react #react-native #redux #gulp #webpack #node.js #cordova #gocd
		`,
	},
	{
		company: "Postcard & Tag, Singapore",
		position: "Frontend Engineer",
		years: "August 2015 — January 2016",
		additional: "",
		summary: `
			Started my career as a UI Developer, focusing on HTML/CSS development. Gradually transitioned to refactoring legacy JavaScript code, and then to developing new features using AngularJS and partially React.
		`,
		achievements: [
			`
				Improved project's markup quality by making it more structured
			`,
			`
				Integrated Mixpanel analytics service into the project
			`,
			`
				Designed and developed a hotel booking module
			`,
			`
				Optimized Gulp.js build process, reducing build time from 1.5 minutes to tens of seconds
			`,
		],
		skills: `
			#angularjs #gulp #react #webpack #html #css #pug #less
		`,
	},
];

let additionalActivities = [
	{
		company: "SPB Frontend",
		position: "Meetup Organizer",
		years: "2019 — 2022",
		summary: `
			Organized more than 5 meetups for frontend developers as part
			of the SPB Frontend team. Each meetup attracted between
			100 and 200 participants
		`,
	},
];

let education = [
	{
		institution:
			"Samara State Aerospace University, Applied Mathematics and Computer Science",
		years: "2009—2013",
	},
	{
		institution: "Samara State Aerospace Lyceum",
		years: "2007—2009",
	},
];
---

<CvLayout>
	<main class="grid">
		<div
			id="photo"
			style={{
				gridColumn: 1,
				gridRow: 1,
			}}
		>
			<img
				src={photo.src}
				width={120}
				height={120}
				alt=""
				style={{
					borderRadius: "15%",
				}}
			/>
		</div>

		<div
			id="profile"
			class="gridArea d-flex flex-column flex-space-between p-block-1-2"
			style={{
				gridColumn: 2,
				gridRow: 1,
			}}
		>
			<div class="d-flex flex-column">
				<h1
					style={{
						fontSize: "14pt",
					}}
				>
					{name}
				</h1>

				<h2
					class="mt-90 ff-mono"
					style={{
						fontSize: "10pt",

						color: "var(--c-secondary)",
					}}
				>
					{occupation}
				</h2>
			</div>

			<div class="d-flex flex-column">
				{
					links.map((link) => (
						<a class="link mt-90" href={link.url}>
							{link.title}
						</a>
					))
				}
			</div>
		</div>

		<div
			id="contact"
			class="gridArea d-flex flex-column f-end"
			style={{
				gridColumn: 3,
				gridRow: 1,
			}}
		>
			<p>{location}</p>

			<div class="mt-110">
				{
					contacts.map((contact) => (
						<div class="d-flex flex-column f-end mt-100">
							<p class="contactLabel">{contact.label}</p>
							<p class="mt-90">{contact.contact}</p>
						</div>
					))
				}
			</div>
		</div>

		<div
			id="about"
			style={{
				gridColumn: "1 / 3",
				gridRow: 2,

				paddingRight: "0.875rem",
			}}
		>
			<Section title="About">
				<Text html={about} />
			</Section>
		</div>

		<div
			id="languages"
			style={{
				gridColumn: 3,
				gridRow: 2,
			}}
		>
			<Section title="Languages">
				<ul>
					{
						languages.map((language) => (
							<li
								class="listItem mt-90"
								style={{
									lineHeight: 1.35,
								}}
							>
								{language}
							</li>
						))
					}
				</ul>
			</Section>
		</div>

		<div
			id="employmentHistory"
			style={{
				gridColumn: "1/3",
				gridRow: 3,

				paddingRight: "1rem",
			}}
		>
			<Section title="Employment history">
				<ExperienceList items={employmentHistory} />
			</Section>
		</div>

		<div
			id="skills"
			style={{
				gridColumn: "3",
				gridRow: 3,
			}}
		>
			<Section title="Skills">
				<ul class="skillPills">
					{skills.map((skill) => <li>{skill}</li>)}
				</ul>
			</Section>

			<div class="mt-200"></div>

			<Section title="Education">
				<ul>
					{
						education.map((item) => (
							<li
								class="listItem mt-90"
								style={{
									lineHeight: 1.35,
								}}
							>
								<p>{item.institution}</p>
								<p class="ff-mono fc-secondary">{item.years}</p>
							</li>
						))
					}
				</ul>
			</Section>
		</div>

		<div
			id="additionalActivities"
			style={{
				gridColumn: "1/3",
				gridRow: 4,
			}}
		>
			<Section title="Additional activities">
				<ExperienceList items={additionalActivities} />
			</Section>
		</div>
	</main>
</CvLayout>

<style>
	.d-flex {
		display: flex;
	}

	.flex-column {
		flex-direction: column;
	}

	.flex-space-between {
		justify-content: space-between;
	}

	.f-end {
		align-items: flex-end;
	}

	.p-block-1-2 {
		padding-top: 0.5rem;
		padding-bottom: 0.5rem;
	}

	.ff-mono {
		font-family: var(--ff-mono);
	}

	.grid {
		max-width: 210mm;
		/* max-height: 297mm; */

		margin: 0 auto;
		padding: 2.5rem 1.5rem;

		display: grid;
		grid-template-columns: 1fr 4fr 1.5fr;
		grid-gap: 1.25rem;
	}

	.link {
		color: inherit;

		text-decoration: none;

		&:hover {
			color: var(--c-link);

			cursor: pointer;
		}
	}

	.skillPills {
		display: flex;
		flex-wrap: wrap;

		gap: 0.25rem;

		font-family: var(--ff-mono);
		font-size: 8pt;

		& li {
			flex-grow: 1;

			padding: 0.25rem 0.375rem;

			background-color: var(--c-pill);

			border-radius: 5px;

			text-align: center;
		}
	}

	/** @duplicate */
	.listItem {
		position: relative;

		&:before {
			position: absolute;
			/** @changed */
			top: 0.025rem;
			left: -0.5rem;

			content: "•";

			font-weight: 500;
		}
	}

	/** @duplicate */
	.fc-secondary {
		color: var(--c-secondary);
	}

	/** @deprecated */
	.contactLabel {
		color: var(--c-secondary);
	}
</style>
